{{- $layout := .Get "layout" | default site.Params.defaultGalleryLayout -}}
{{- $images := site.Params.cloudflareImages.gallery -}}
{{- $baseURL := site.Params.cloudflareImages.imageBaseURL -}}
{{- $accountHash := site.Params.cloudflareImages.accountHash -}}
{{- $variant := .Get "variant" | default "public" -}}
{{- $context := dict "images" $images "baseURL" $baseURL -}}

<!-- Gallery container with configuration -->
<div class="gallery-container"
    data-account-hash="{{- .Site.Params.cloudflareImages.accountHash -}}"
    data-worker-url="{{- .Site.Params.cloudflareImages.workerURL -}}"
    data-image-prefix="{{- .Get "image-prefix" -}}"
    data-layout="{{- .Get "layout" | default "grid" -}}"
    data-category="{{- .Get "category" | default "all" -}}"
    data-items-per-page="{{- .Get "items-per-page" | default 30 -}}"
>
    <div class="gallery"></div>
    <div class="gallery-loader" style="display: none">
        <div class="loader-spinner"></div>
    </div>
    <div class="gallery-error" style="display: none"></div>
</div>
